
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/style.css">


    <title>Step3</title>
</head>
<body>

<div class="container">
    <!-- Ряд -->
    <div class="row mt-5">
        <!-- Колонка -->
        <div class="col-6">
            <!-- Заголовок -->
            <h2>
                <span class="badge badge-secondary">Notes and lists</span>
            </h2>
        </div>
        <!-- Колонка -->
        <div class="col-6 text-right">
            <!-- Кнопки добавления -->
            <button type="button" id="addButton" class="btn btn-success">Add note</button>
            <button type="button" id="addList" class="btn btn-success">Add list</button>
        </div>
    </div>

    <div class="row mt-5" id="notesList">
        <!-- Вывод списка заметок -->
        <% notes.forEach((el)=>{ %>
            <% if (el.type === "note") { %>

            <div class="col-4">
                <div class="card bg-warning">
                    <div class="card-body" data-id="<%= el.id %>">
                        <div class="text-right">
                            <button type="button" data-id="<%= el.id %>" class="btn btn-danger">-</button>
                        </div>
                        <h5 class="card-title"><%= el.title %></h5>
                        <p class="card-text list-text bg-warning"><%= el.text %></p>
                        <button class="btn btn-success edit-btn " data-id="<%= el.id %>">Edit</button>
                        <button class="btn btn-success btn-show" data-id="<%= el.id %>">Show note</button>
                    </div>
                </div>
            </div>
            <% } else if (el.type === 'list') { %>
            <div class="col-4">
                <div class="card">
                    <div class="card-body listClass" data-id="<%= el.id %>">
                        <div class="text-right">
                            <button type="button" data-id="<%= el.id %>"  class="btn btn-danger">-</button>
                        </div>
                        <h5 class="card-title"><%= el.title %></h5>

                        <% for(let key in el) { %>
                        <% if(key !== '_id' && key !== 'id' && key !== 'type' && key !== 'title'){ %>
                        <div class="list-item-container d-flex align-items-center mb-2" data-listName="<%=key%>">

                            <input type="checkbox" class="list-checkbox">
                            <p class="ml-3 my-0"><%= el[key].value %></p>
                        </div>
                        <% }} %>

                        <button class="btn btn-success edit-btn" data-id="<%= el.id %>">Edit</button>
                        <button class="btn btn-success btn-show" data-id="<%= el.id %>">Show list</button>
                    </div>
                </div>
            </div>
            <% } %>
        <% }) %>
    </div>
</div>
<script src="/js/index.js"></script>

</body>
</html>
